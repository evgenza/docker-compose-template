# Docker Compose Template

–ö–æ–ª–ª–µ–∫—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —Å –ø–æ–º–æ—â—å—é Docker Compose. –í–∫–ª—é—á–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, –±—Ä–æ–∫–µ—Ä–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â –æ–±—ä–µ–∫—Ç–æ–≤.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
docker-compose-template/
‚îú‚îÄ‚îÄ postgres/                    # PostgreSQL + pgAdmin
‚îú‚îÄ‚îÄ kafka/                       # Kafka + UI + Schema Registry + Connect
‚îú‚îÄ‚îÄ redis/                       # Redis + Redis Commander
‚îú‚îÄ‚îÄ mongodb/                     # MongoDB + Mongo Express
‚îú‚îÄ‚îÄ prometheus-grafana/          # Prometheus + Grafana + Node Exporter
‚îú‚îÄ‚îÄ rabbitmq/                    # RabbitMQ + Management UI
‚îú‚îÄ‚îÄ minio/                       # MinIO + Console
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md
```

–ö–∞–∂–¥–∞—è –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:
- `docker-compose.yaml` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
- `.env.example` ‚Äî –ø—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `README.md` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ö–∞–∂–¥—ã–π —à–∞–±–ª–æ–Ω –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ. –û–±—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –∑–∞–ø—É—Å–∫–∞:

```bash
cd <–Ω–∞–∑–≤–∞–Ω–∏–µ-—à–∞–±–ª–æ–Ω–∞>
cp .env.example .env
# –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env
docker-compose up -d
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã

#### –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

- **[PostgreSQL](postgres/)** ‚Äî PostgreSQL 15.8 + pgAdmin 4
- **[MongoDB](mongodb/)** ‚Äî MongoDB 7.0 + Mongo Express
- **[Redis](redis/)** ‚Äî Redis 7.2 + Redis Commander

#### –ë—Ä–æ–∫–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π

- **[Kafka](kafka/)** ‚Äî Apache Kafka 8.0 (KRaft) + UI + Schema Registry + Connect
- **[RabbitMQ](rabbitmq/)** ‚Äî RabbitMQ 3.12 + Management UI

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **[Prometheus + Grafana](prometheus-grafana/)** ‚Äî Prometheus + Grafana + Node Exporter

#### –•—Ä–∞–Ω–∏–ª–∏—â–∞

- **[MinIO](minio/)** ‚Äî S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ + Console

## üì¶ –í–∫–ª—é—á–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã

### –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

| –®–∞–±–ª–æ–Ω | –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –ü–æ—Ä—Ç |
|--------|----------------|---------------|------|
| **PostgreSQL** | PostgreSQL 15.8 | pgAdmin 4 | 5432 / 5050 |
| **MongoDB** | MongoDB 7.0 | Mongo Express | 27017 / 8081 |
| **Redis** | Redis 7.2 | Redis Commander | 6379 / 8081 |

### –ë—Ä–æ–∫–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π

| –®–∞–±–ª–æ–Ω | –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –ü–æ—Ä—Ç |
|--------|----------------|---------------|------|
| **Kafka** | Kafka 8.0 (KRaft) | Kafka UI | 29092 / 8080 |
| **RabbitMQ** | RabbitMQ 3.12 | Management UI | 5672 / 15672 |

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

| –®–∞–±–ª–æ–Ω | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | –ü–æ—Ä—Ç—ã |
|--------|-----------|-------|
| **Prometheus + Grafana** | Prometheus, Grafana, Node Exporter | 9090 / 3000 / 9100 |

### –•—Ä–∞–Ω–∏–ª–∏—â–∞

| –®–∞–±–ª–æ–Ω | –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –ü–æ—Ä—Ç |
|--------|----------------|---------------|------|
| **MinIO** | MinIO Server | MinIO Console | 9000 / 9001 |

> –í—Å–µ –ø–æ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env` —Ñ–∞–π–ª–µ

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –í –∫–∞–∂–¥–æ–º —à–∞–±–ª–æ–Ω–µ –µ—Å—Ç—å —Ñ–∞–π–ª `.env.example` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –≤ `.env` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```bash
cd <–Ω–∞–∑–≤–∞–Ω–∏–µ-—à–∞–±–ª–æ–Ω–∞>
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
```

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

- **PostgreSQL**: SQL —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ `postgres/initdb-scripts/` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- **MongoDB**: JavaScript —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ `mongodb/initdb-scripts/` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose stop

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º volumes (‚ö†Ô∏è —É–¥–∞–ª–∏—Ç –¥–∞–Ω–Ω—ã–µ!)
docker-compose down -v

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f [service-name]

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart [service-name]
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —à–∞–±–ª–æ–Ω–∞–º

–ö–∞–∂–¥—ã–π —à–∞–±–ª–æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

- [PostgreSQL](postgres/README.md) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL –∏ pgAdmin
- [Kafka](kafka/README.md) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å Kafka, —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–æ–≤, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- [Redis](redis/README.md) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å Redis, –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è Node.js, Python, Go
- [MongoDB](mongodb/README.md) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å MongoDB, –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤
- [Prometheus + Grafana](prometheus-grafana/README.md) ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
- [RabbitMQ](rabbitmq/README.md) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –æ—á–µ—Ä–µ–¥—è–º–∏, –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤
- [MinIO](minio/README.md) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å S3-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è **—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** (–Ω–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- Kafka —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ **KRaft** (–±–µ–∑ ZooKeeper) –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è
- –ü–æ—Ä—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Docker volumes –∏ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ `docker-compose down` (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `-v` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è)
- –ö–∞–∂–¥—ã–π —à–∞–±–ª–æ–Ω –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –≤ —Å–≤–æ–µ–π Docker —Å–µ—Ç–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:**

- –ò–∑–º–µ–Ω–∏—Ç–µ –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã Docker –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL/TLS –¥–ª—è Kafka –∏ PostgreSQL
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç–∞–º —á–µ—Ä–µ–∑ firewall
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –¥–ª—è Kafka

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è "–∫–∞–∫ –µ—Å—Ç—å" –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
